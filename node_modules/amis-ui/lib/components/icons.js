/**
 * amis-ui v2.9.0
 * Copyright 2018-2023 fex
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var tslib = require('tslib');
var React = require('react');
var cx = require('classnames');
var close = require('../icons/close.svg.js');
var closeSmall = require('../icons/close-small.svg.js');
var statusClose = require('../icons/status-close.svg.js');
var undo = require('../icons/undo.svg.js');
var redo = require('../icons/redo.svg.js');
var enter = require('../icons/enter.svg.js');
var volume = require('../icons/volume.svg.js');
var mute = require('../icons/mute.svg.js');
var play = require('../icons/play.svg.js');
var pause = require('../icons/pause.svg.js');
var leftArrow = require('../icons/left-arrow.svg.js');
var rightArrow = require('../icons/right-arrow.svg.js');
var check = require('../icons/check.svg.js');
var plus = require('../icons/plus.svg.js');
var minus = require('../icons/minus.svg.js');
var pencil = require('../icons/pencil.svg.js');
var view = require('../icons/view.svg.js');
var remove = require('../icons/remove.svg.js');
var retry = require('../icons/retry.svg.js');
var upload = require('../icons/upload.svg.js');
var download = require('../icons/download.svg.js');
var file = require('../icons/file.svg.js');
var success = require('../icons/success.svg.js');
var fail = require('../icons/fail.svg.js');
var search = require('../icons/search.svg.js');
var back = require('../icons/back.svg.js');
var move = require('../icons/move.svg.js');
var info = require('../icons/info.svg.js');
var location = require('../icons/location.svg.js');
var dragBar = require('../icons/drag-bar.svg.js');
var reload = require('../icons/reload.svg.js');
var exchange = require('../icons/exchange.svg.js');
var columns = require('../icons/columns.svg.js');
var calendar = require('../icons/calendar.svg.js');
var clock = require('../icons/clock.svg.js');
var treeDown = require('../icons/tree-down.svg.js');
var cloudUpload = require('../icons/cloud-upload.svg.js');
var image = require('../icons/image.svg.js');
var refresh = require('../icons/refresh.svg.js');
var drag = require('../icons/drag.svg.js');
var edit = require('../icons/edit.svg.js');
var deskEmpty = require('../icons/desk-empty.svg.js');
var copy = require('../icons/copy.svg.js');
var filter = require('../icons/filter.svg.js');
var caret = require('../icons/caret.svg.js');
var rightArrowBold = require('../icons/right-arrow-bold.svg.js');
var downArrowBold = require('../icons/down-arrow-bold.svg.js');
var columnFilter = require('../icons/column-filter.svg.js');
var zoomIn = require('../icons/zoom-in.svg.js');
var zoomOut = require('../icons/zoom-out.svg.js');
var question = require('../icons/question.svg.js');
var questionMark = require('../icons/question-mark.svg.js');
var windowRestore = require('../icons/window-restore.svg.js');
var infoCircle = require('../icons/info-circle.svg.js');
var warning = require('../icons/warning.svg.js');
var warningMark = require('../icons/warning-mark.svg.js');
var schedule = require('../icons/schedule.svg.js');
var home = require('../icons/home.svg.js');
var folder = require('../icons/folder.svg.js');
var sortDefault = require('../icons/sort-default.svg.js');
var sortAsc = require('../icons/sort-asc.svg.js');
var sortDesc = require('../icons/sort-desc.svg.js');
var setting = require('../icons/setting.svg.js');
var plusCicle = require('../icons/plus-cicle.svg.js');
var plusFine = require('../icons/plus-fine.svg.js');
var ellipsisV = require('../icons/ellipsis-v.svg.js');
var expandAlt = require('../icons/expand-alt.svg.js');
var compressAlt = require('../icons/compress-alt.svg.js');
var transparent = require('../icons/transparent.svg.js');
var loadingOutline = require('../icons/loading-outline.svg.js');
var star = require('../icons/star.svg.js');
var alertSuccess = require('../icons/alert-success.svg.js');
var alertInfo = require('../icons/alert-info.svg.js');
var alertWarning = require('../icons/alert-warning.svg.js');
var alertDanger = require('../icons/alert-danger.svg.js');
var _function = require('../icons/function.svg.js');
var inputClear = require('../icons/input-clear.svg.js');
var sliderHandleIcon = require('../icons/slider-handle-icon.svg.js');
var trash = require('../icons/trash.svg.js');
var menu = require('../icons/menu.svg.js');
var userRemove = require('../icons/user-remove.svg.js');
var role = require('../icons/role.svg.js');
var department = require('../icons/department.svg.js');
var post = require('../icons/post.svg.js');
var dot = require('../icons/dot.svg.js');
var stepsFinsh = require('../icons/steps-finsh.svg.js');
var invisible = require('../icons/invisible.svg.js');
var date = require('../icons/date.svg.js');
var down = require('../icons/down.svg.js');
var rightDoubleArrow = require('../icons/right-double-arrow.svg.js');
var newEdit = require('../icons/new-edit.svg.js');
var rotateLeft = require('../icons/rotate-left.svg.js');
var rotateRight = require('../icons/rotate-right.svg.js');
var scaleOrigin = require('../icons/scale-origin.svg.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);
var cx__default = /*#__PURE__*/_interopDefaultLegacy(cx);

// 兼容原来的用法，后续不直接试用。
var closeIcon = React__default["default"].createElement(close["default"], null);
var unDoIcon = React__default["default"].createElement(undo["default"], null);
var reDoIcon = React__default["default"].createElement(redo["default"], null);
var enterIcon = React__default["default"].createElement(enter["default"], null);
var volumeIcon = React__default["default"].createElement(volume["default"], null);
var muteIcon = React__default["default"].createElement(mute["default"], null);
var playIcon = React__default["default"].createElement(play["default"], null);
var pauseIcon = React__default["default"].createElement(pause["default"], null);
var leftArrowIcon = React__default["default"].createElement(leftArrow["default"], null);
var rightArrowIcon = React__default["default"].createElement(rightArrow["default"], null);
var iconFactory = {};
function getIcon(key) {
    return iconFactory[key];
}
function hasIcon(iconName) {
    return !!getIcon(iconName);
}
function registerIcon(key, component) {
    iconFactory[key] = component;
}
registerIcon('close', close["default"]);
registerIcon('close-small', closeSmall["default"]);
registerIcon('status-close', statusClose["default"]);
registerIcon('undo', undo["default"]);
registerIcon('redo', redo["default"]);
registerIcon('enter', enter["default"]);
registerIcon('volume', volume["default"]);
registerIcon('mute', mute["default"]);
registerIcon('play', play["default"]);
registerIcon('pause', pause["default"]);
registerIcon('left-arrow', leftArrow["default"]);
registerIcon('right-arrow', rightArrow["default"]);
registerIcon('prev', leftArrow["default"]);
registerIcon('next', rightArrow["default"]);
registerIcon('check', check["default"]);
registerIcon('plus', plus["default"]);
registerIcon('add', plus["default"]);
registerIcon('minus', minus["default"]);
registerIcon('pencil', pencil["default"]);
registerIcon('view', view["default"]);
registerIcon('remove', remove["default"]);
registerIcon('retry', retry["default"]);
registerIcon('upload', upload["default"]);
registerIcon('download', download["default"]);
registerIcon('file', file["default"]);
registerIcon('success', success["default"]);
registerIcon('fail', fail["default"]);
registerIcon('warning', warning["default"]);
registerIcon('warning-mark', warningMark["default"]);
registerIcon('search', search["default"]);
registerIcon('back', back["default"]);
registerIcon('move', move["default"]);
registerIcon('info', info["default"]);
registerIcon('info-circle', infoCircle["default"]);
registerIcon('location', location["default"]);
registerIcon('drag-bar', dragBar["default"]);
registerIcon('reload', reload["default"]);
registerIcon('exchange', exchange["default"]);
registerIcon('columns', columns["default"]);
registerIcon('calendar', calendar["default"]);
registerIcon('clock', clock["default"]);
registerIcon('copy', copy["default"]);
registerIcon('filter', filter["default"]);
registerIcon('column-filter', columnFilter["default"]);
registerIcon('caret', caret["default"]);
registerIcon('right-arrow-bold', rightArrowBold["default"]);
registerIcon('down-arrow-bold', downArrowBold["default"]);
registerIcon('zoom-in', zoomIn["default"]);
registerIcon('zoom-out', zoomOut["default"]);
registerIcon('question', question["default"]);
registerIcon('question-mark', questionMark["default"]);
registerIcon('window-restore', windowRestore["default"]);
registerIcon('schedule', schedule["default"]);
registerIcon('home', home["default"]);
registerIcon('folder', folder["default"]);
registerIcon('sort-default', sortDefault["default"]);
registerIcon('sort-asc', sortAsc["default"]);
registerIcon('sort-desc', sortDesc["default"]);
registerIcon('setting', setting["default"]);
registerIcon('plus-cicle', plusCicle["default"]);
registerIcon('ellipsis-v', ellipsisV["default"]);
registerIcon('expand-alt', expandAlt["default"]);
registerIcon('compress-alt', compressAlt["default"]);
registerIcon('transparent', transparent["default"]);
registerIcon('loading-outline', loadingOutline["default"]);
registerIcon('star', star["default"]);
registerIcon('alert-success', alertSuccess["default"]);
registerIcon('alert-info', alertInfo["default"]);
registerIcon('alert-warning', alertWarning["default"]);
registerIcon('alert-danger', alertDanger["default"]);
registerIcon('alert-fail', alertDanger["default"]);
registerIcon('tree-down', treeDown["default"]);
registerIcon('function', _function["default"]);
registerIcon('input-clear', inputClear["default"]);
registerIcon('slider-handle', sliderHandleIcon["default"]);
registerIcon('cloud-upload', cloudUpload["default"]);
registerIcon('image', image["default"]);
registerIcon('refresh', refresh["default"]);
registerIcon('trash', trash["default"]);
registerIcon('menu', menu["default"]);
registerIcon('user-remove', userRemove["default"]);
registerIcon('role', role["default"]);
registerIcon('department', department["default"]);
registerIcon('post', post["default"]);
registerIcon('dot', dot["default"]);
registerIcon('drag', drag["default"]);
registerIcon('edit', edit["default"]);
registerIcon('desk-empty', deskEmpty["default"]);
registerIcon('invisible', invisible["default"]);
registerIcon('plus-fine', plusFine["default"]);
registerIcon('steps-finsh', stepsFinsh["default"]);
registerIcon('date', date["default"]);
registerIcon('remove', remove["default"]);
registerIcon('invisible', invisible["default"]);
registerIcon('down', down["default"]);
registerIcon('right-double-arrow', rightDoubleArrow["default"]);
registerIcon('new-edit', newEdit["default"]);
registerIcon('rotate-left', rotateLeft["default"]);
registerIcon('rotate-right', rotateRight["default"]);
registerIcon('scale-origin', scaleOrigin["default"]);
function Icon(_a) {
    var icon = _a.icon, className = _a.className, wrapClassName = _a.wrapClassName, _b = _a.classPrefix, classPrefix = _b === void 0 ? '' : _b, iconContent = _a.iconContent, rest = tslib.__rest(_a, ["icon", "className", "wrapClassName", "classPrefix", "iconContent"]);
    // jest 运行环境下，把指定的 icon 也输出到 snapshot 中。
    if (typeof jest !== 'undefined') {
        rest.icon = icon;
    }
    var _c = tslib.__read(React.useState(false), 2), showCssIcon = _c[0], setShowCssIcon = _c[1];
    function refFn(dom) {
        if (dom) {
            var style = getComputedStyle(dom);
            var svgStr = style.getPropertyValue('content');
            var svg = /(<svg.*<\/svg>)/.exec(svgStr);
            if (svg) {
                var svgHTML = svg[0].replace(/\\"/g, '"');
                if (dom.svgHTMLClone !== svgHTML) {
                    dom.innerHTML = svgHTML;
                    // 存储svg，不直接用innerHTML是防止<circle />渲染后变成<circle></circle>的情况
                    dom.svgHTMLClone = svgHTML;
                    dom.style.display = '';
                    setShowCssIcon(true);
                }
            }
            else {
                // 当传入svg为空时，隐藏div，展示原icon
                dom.style.display = 'none';
                setShowCssIcon(false);
            }
        }
    }
    var Component = getIcon(icon);
    var isURLIcon = typeof icon === 'string' && (icon === null || icon === void 0 ? void 0 : icon.indexOf('.')) !== -1;
    return Component ? (React__default["default"].createElement(React__default["default"].Fragment, null,
        iconContent ? (React__default["default"].createElement("div", { className: "".concat(wrapClassName || '') + ' ' + iconContent, ref: refFn })) : null,
        !showCssIcon ? (React__default["default"].createElement(Component, tslib.__assign({}, rest, { className: "".concat(className || '', " icon-").concat(icon) }))) : null)) : isURLIcon ? (React__default["default"].createElement("img", { className: cx__default["default"]("".concat(classPrefix, "Icon"), className), src: icon })) : (React__default["default"].createElement("span", { className: "text-danger" },
        "\u6CA1\u6709 icon ",
        icon));
}

exports.CloseIcon = close["default"];
exports.UnDoIcon = undo["default"];
exports.ReDoIcon = redo["default"];
exports.EnterIcon = enter["default"];
exports.VolumeIcon = volume["default"];
exports.MuteIcon = mute["default"];
exports.PlayIcon = play["default"];
exports.PauseIcon = pause["default"];
exports.LeftArrowIcon = leftArrow["default"];
exports.RightArrowIcon = rightArrow["default"];
exports.CheckIcon = check["default"];
exports.PlusIcon = plus["default"];
exports.MinusIcon = minus["default"];
exports.PencilIcon = pencil["default"];
exports.ReloadIcon = reload["default"];
exports.DownArrowBoldIcon = downArrowBold["default"];
exports.FunctionIcon = _function["default"];
exports.InputClearIcon = inputClear["default"];
exports.MenuIcon = menu["default"];
exports.UserRemove = userRemove["default"];
exports.Role = role["default"];
exports.Department = department["default"];
exports.Post = post["default"];
exports.RightDoubleArrowIcon = rightDoubleArrow["default"];
exports.Icon = Icon;
exports.closeIcon = closeIcon;
exports.enterIcon = enterIcon;
exports.getIcon = getIcon;
exports.hasIcon = hasIcon;
exports.leftArrowIcon = leftArrowIcon;
exports.muteIcon = muteIcon;
exports.pauseIcon = pauseIcon;
exports.playIcon = playIcon;
exports.reDoIcon = reDoIcon;
exports.registerIcon = registerIcon;
exports.rightArrowIcon = rightArrowIcon;
exports.unDoIcon = unDoIcon;
exports.volumeIcon = volumeIcon;
