/**
 * amis-ui v2.9.0
 * Copyright 2018-2023 fex
 */

import wrapperRaf from '../../../rc-util/es/raf.js';

function channelUpdate(callback) {
  if (typeof MessageChannel === 'undefined') {
    wrapperRaf(callback);
  } else {
    var channel = new MessageChannel();
    channel.port1.onmessage = function () {
      return callback();
    };
    channel.port2.postMessage(undefined);
  }
}

export { channelUpdate as default };
