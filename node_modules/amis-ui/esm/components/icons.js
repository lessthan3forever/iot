/**
 * amis-ui v2.9.0
 * Copyright 2018-2023 fex
 */

import { __rest, __read, __assign } from 'tslib';
import React__default, { useState } from 'react';
import cx from 'classnames';
import SvgClose from '../icons/close.svg.js';
export { default as CloseIcon } from '../icons/close.svg.js';
import SvgCloseSmall from '../icons/close-small.svg.js';
import SvgStatusClose from '../icons/status-close.svg.js';
import SvgUndo from '../icons/undo.svg.js';
export { default as UnDoIcon } from '../icons/undo.svg.js';
import SvgRedo from '../icons/redo.svg.js';
export { default as ReDoIcon } from '../icons/redo.svg.js';
import SvgEnter from '../icons/enter.svg.js';
export { default as EnterIcon } from '../icons/enter.svg.js';
import SvgVolume from '../icons/volume.svg.js';
export { default as VolumeIcon } from '../icons/volume.svg.js';
import SvgMute from '../icons/mute.svg.js';
export { default as MuteIcon } from '../icons/mute.svg.js';
import SvgPlay from '../icons/play.svg.js';
export { default as PlayIcon } from '../icons/play.svg.js';
import SvgPause from '../icons/pause.svg.js';
export { default as PauseIcon } from '../icons/pause.svg.js';
import SvgLeftArrow from '../icons/left-arrow.svg.js';
export { default as LeftArrowIcon } from '../icons/left-arrow.svg.js';
import SvgRightArrow from '../icons/right-arrow.svg.js';
export { default as RightArrowIcon } from '../icons/right-arrow.svg.js';
import SvgCheck from '../icons/check.svg.js';
export { default as CheckIcon } from '../icons/check.svg.js';
import SvgPlus from '../icons/plus.svg.js';
export { default as PlusIcon } from '../icons/plus.svg.js';
import SvgMinus from '../icons/minus.svg.js';
export { default as MinusIcon } from '../icons/minus.svg.js';
import SvgPencil from '../icons/pencil.svg.js';
export { default as PencilIcon } from '../icons/pencil.svg.js';
import SvgView from '../icons/view.svg.js';
import SvgRemove from '../icons/remove.svg.js';
import SvgRetry from '../icons/retry.svg.js';
import SvgUpload from '../icons/upload.svg.js';
import SvgDownload from '../icons/download.svg.js';
import SvgFile from '../icons/file.svg.js';
import SvgSuccess from '../icons/success.svg.js';
import SvgFail from '../icons/fail.svg.js';
import SvgSearch from '../icons/search.svg.js';
import SvgBack from '../icons/back.svg.js';
import SvgMove from '../icons/move.svg.js';
import SvgInfo from '../icons/info.svg.js';
import SvgLocation from '../icons/location.svg.js';
import SvgDragBar from '../icons/drag-bar.svg.js';
import SvgReload from '../icons/reload.svg.js';
export { default as ReloadIcon } from '../icons/reload.svg.js';
import SvgExchange from '../icons/exchange.svg.js';
import SvgColumns from '../icons/columns.svg.js';
import SvgCalendar from '../icons/calendar.svg.js';
import SvgClock from '../icons/clock.svg.js';
import SvgTreeDown from '../icons/tree-down.svg.js';
import SvgCloudUpload from '../icons/cloud-upload.svg.js';
import SvgImage from '../icons/image.svg.js';
import SvgRefresh from '../icons/refresh.svg.js';
import SvgDrag from '../icons/drag.svg.js';
import SvgEdit from '../icons/edit.svg.js';
import SvgDeskEmpty from '../icons/desk-empty.svg.js';
import SvgCopy from '../icons/copy.svg.js';
import SvgFilter from '../icons/filter.svg.js';
import SvgCaret from '../icons/caret.svg.js';
import SvgRightArrowBold from '../icons/right-arrow-bold.svg.js';
import SvgDownArrowBold from '../icons/down-arrow-bold.svg.js';
export { default as DownArrowBoldIcon } from '../icons/down-arrow-bold.svg.js';
import SvgColumnFilter from '../icons/column-filter.svg.js';
import SvgZoomIn from '../icons/zoom-in.svg.js';
import SvgZoomOut from '../icons/zoom-out.svg.js';
import SvgQuestion from '../icons/question.svg.js';
import SvgQuestionMark from '../icons/question-mark.svg.js';
import SvgWindowRestore from '../icons/window-restore.svg.js';
import SvgInfoCircle from '../icons/info-circle.svg.js';
import SvgWarning from '../icons/warning.svg.js';
import SvgWarningMark from '../icons/warning-mark.svg.js';
import SvgSchedule from '../icons/schedule.svg.js';
import SvgHome from '../icons/home.svg.js';
import SvgFolder from '../icons/folder.svg.js';
import SvgSortDefault from '../icons/sort-default.svg.js';
import SvgSortAsc from '../icons/sort-asc.svg.js';
import SvgSortDesc from '../icons/sort-desc.svg.js';
import SvgSetting from '../icons/setting.svg.js';
import SvgPlusCicle from '../icons/plus-cicle.svg.js';
import SvgPlusFine from '../icons/plus-fine.svg.js';
import SvgEllipsisV from '../icons/ellipsis-v.svg.js';
import SvgExpandAlt from '../icons/expand-alt.svg.js';
import SvgCompressAlt from '../icons/compress-alt.svg.js';
import SvgTransparent from '../icons/transparent.svg.js';
import SvgLoadingOutline from '../icons/loading-outline.svg.js';
import SvgStar from '../icons/star.svg.js';
import SvgAlertSuccess from '../icons/alert-success.svg.js';
import SvgAlertInfo from '../icons/alert-info.svg.js';
import SvgAlertWarning from '../icons/alert-warning.svg.js';
import SvgAlertDanger from '../icons/alert-danger.svg.js';
import SvgFunction from '../icons/function.svg.js';
export { default as FunctionIcon } from '../icons/function.svg.js';
import SvgInputClear from '../icons/input-clear.svg.js';
export { default as InputClearIcon } from '../icons/input-clear.svg.js';
import SvgSliderHandleIcon from '../icons/slider-handle-icon.svg.js';
import SvgTrash from '../icons/trash.svg.js';
import SvgMenu from '../icons/menu.svg.js';
export { default as MenuIcon } from '../icons/menu.svg.js';
import SvgUserRemove from '../icons/user-remove.svg.js';
export { default as UserRemove } from '../icons/user-remove.svg.js';
import SvgRole from '../icons/role.svg.js';
export { default as Role } from '../icons/role.svg.js';
import SvgDepartment from '../icons/department.svg.js';
export { default as Department } from '../icons/department.svg.js';
import SvgPost from '../icons/post.svg.js';
export { default as Post } from '../icons/post.svg.js';
import SvgDot from '../icons/dot.svg.js';
import SvgStepsFinsh from '../icons/steps-finsh.svg.js';
import SvgInvisible from '../icons/invisible.svg.js';
import SvgDate from '../icons/date.svg.js';
import SvgDown from '../icons/down.svg.js';
import SvgRightDoubleArrow from '../icons/right-double-arrow.svg.js';
export { default as RightDoubleArrowIcon } from '../icons/right-double-arrow.svg.js';
import SvgNewEdit from '../icons/new-edit.svg.js';
import SvgRotateLeft from '../icons/rotate-left.svg.js';
import SvgRotateRight from '../icons/rotate-right.svg.js';
import SvgScaleOrigin from '../icons/scale-origin.svg.js';

// 兼容原来的用法，后续不直接试用。
var closeIcon = React__default.createElement(SvgClose, null);
var unDoIcon = React__default.createElement(SvgUndo, null);
var reDoIcon = React__default.createElement(SvgRedo, null);
var enterIcon = React__default.createElement(SvgEnter, null);
var volumeIcon = React__default.createElement(SvgVolume, null);
var muteIcon = React__default.createElement(SvgMute, null);
var playIcon = React__default.createElement(SvgPlay, null);
var pauseIcon = React__default.createElement(SvgPause, null);
var leftArrowIcon = React__default.createElement(SvgLeftArrow, null);
var rightArrowIcon = React__default.createElement(SvgRightArrow, null);
var iconFactory = {};
function getIcon(key) {
    return iconFactory[key];
}
function hasIcon(iconName) {
    return !!getIcon(iconName);
}
function registerIcon(key, component) {
    iconFactory[key] = component;
}
registerIcon('close', SvgClose);
registerIcon('close-small', SvgCloseSmall);
registerIcon('status-close', SvgStatusClose);
registerIcon('undo', SvgUndo);
registerIcon('redo', SvgRedo);
registerIcon('enter', SvgEnter);
registerIcon('volume', SvgVolume);
registerIcon('mute', SvgMute);
registerIcon('play', SvgPlay);
registerIcon('pause', SvgPause);
registerIcon('left-arrow', SvgLeftArrow);
registerIcon('right-arrow', SvgRightArrow);
registerIcon('prev', SvgLeftArrow);
registerIcon('next', SvgRightArrow);
registerIcon('check', SvgCheck);
registerIcon('plus', SvgPlus);
registerIcon('add', SvgPlus);
registerIcon('minus', SvgMinus);
registerIcon('pencil', SvgPencil);
registerIcon('view', SvgView);
registerIcon('remove', SvgRemove);
registerIcon('retry', SvgRetry);
registerIcon('upload', SvgUpload);
registerIcon('download', SvgDownload);
registerIcon('file', SvgFile);
registerIcon('success', SvgSuccess);
registerIcon('fail', SvgFail);
registerIcon('warning', SvgWarning);
registerIcon('warning-mark', SvgWarningMark);
registerIcon('search', SvgSearch);
registerIcon('back', SvgBack);
registerIcon('move', SvgMove);
registerIcon('info', SvgInfo);
registerIcon('info-circle', SvgInfoCircle);
registerIcon('location', SvgLocation);
registerIcon('drag-bar', SvgDragBar);
registerIcon('reload', SvgReload);
registerIcon('exchange', SvgExchange);
registerIcon('columns', SvgColumns);
registerIcon('calendar', SvgCalendar);
registerIcon('clock', SvgClock);
registerIcon('copy', SvgCopy);
registerIcon('filter', SvgFilter);
registerIcon('column-filter', SvgColumnFilter);
registerIcon('caret', SvgCaret);
registerIcon('right-arrow-bold', SvgRightArrowBold);
registerIcon('down-arrow-bold', SvgDownArrowBold);
registerIcon('zoom-in', SvgZoomIn);
registerIcon('zoom-out', SvgZoomOut);
registerIcon('question', SvgQuestion);
registerIcon('question-mark', SvgQuestionMark);
registerIcon('window-restore', SvgWindowRestore);
registerIcon('schedule', SvgSchedule);
registerIcon('home', SvgHome);
registerIcon('folder', SvgFolder);
registerIcon('sort-default', SvgSortDefault);
registerIcon('sort-asc', SvgSortAsc);
registerIcon('sort-desc', SvgSortDesc);
registerIcon('setting', SvgSetting);
registerIcon('plus-cicle', SvgPlusCicle);
registerIcon('ellipsis-v', SvgEllipsisV);
registerIcon('expand-alt', SvgExpandAlt);
registerIcon('compress-alt', SvgCompressAlt);
registerIcon('transparent', SvgTransparent);
registerIcon('loading-outline', SvgLoadingOutline);
registerIcon('star', SvgStar);
registerIcon('alert-success', SvgAlertSuccess);
registerIcon('alert-info', SvgAlertInfo);
registerIcon('alert-warning', SvgAlertWarning);
registerIcon('alert-danger', SvgAlertDanger);
registerIcon('alert-fail', SvgAlertDanger);
registerIcon('tree-down', SvgTreeDown);
registerIcon('function', SvgFunction);
registerIcon('input-clear', SvgInputClear);
registerIcon('slider-handle', SvgSliderHandleIcon);
registerIcon('cloud-upload', SvgCloudUpload);
registerIcon('image', SvgImage);
registerIcon('refresh', SvgRefresh);
registerIcon('trash', SvgTrash);
registerIcon('menu', SvgMenu);
registerIcon('user-remove', SvgUserRemove);
registerIcon('role', SvgRole);
registerIcon('department', SvgDepartment);
registerIcon('post', SvgPost);
registerIcon('dot', SvgDot);
registerIcon('drag', SvgDrag);
registerIcon('edit', SvgEdit);
registerIcon('desk-empty', SvgDeskEmpty);
registerIcon('invisible', SvgInvisible);
registerIcon('plus-fine', SvgPlusFine);
registerIcon('steps-finsh', SvgStepsFinsh);
registerIcon('date', SvgDate);
registerIcon('remove', SvgRemove);
registerIcon('invisible', SvgInvisible);
registerIcon('down', SvgDown);
registerIcon('right-double-arrow', SvgRightDoubleArrow);
registerIcon('new-edit', SvgNewEdit);
registerIcon('rotate-left', SvgRotateLeft);
registerIcon('rotate-right', SvgRotateRight);
registerIcon('scale-origin', SvgScaleOrigin);
function Icon(_a) {
    var icon = _a.icon, className = _a.className, wrapClassName = _a.wrapClassName, _b = _a.classPrefix, classPrefix = _b === void 0 ? '' : _b, iconContent = _a.iconContent, rest = __rest(_a, ["icon", "className", "wrapClassName", "classPrefix", "iconContent"]);
    // jest 运行环境下，把指定的 icon 也输出到 snapshot 中。
    if (typeof jest !== 'undefined') {
        rest.icon = icon;
    }
    var _c = __read(useState(false), 2), showCssIcon = _c[0], setShowCssIcon = _c[1];
    function refFn(dom) {
        if (dom) {
            var style = getComputedStyle(dom);
            var svgStr = style.getPropertyValue('content');
            var svg = /(<svg.*<\/svg>)/.exec(svgStr);
            if (svg) {
                var svgHTML = svg[0].replace(/\\"/g, '"');
                if (dom.svgHTMLClone !== svgHTML) {
                    dom.innerHTML = svgHTML;
                    // 存储svg，不直接用innerHTML是防止<circle />渲染后变成<circle></circle>的情况
                    dom.svgHTMLClone = svgHTML;
                    dom.style.display = '';
                    setShowCssIcon(true);
                }
            }
            else {
                // 当传入svg为空时，隐藏div，展示原icon
                dom.style.display = 'none';
                setShowCssIcon(false);
            }
        }
    }
    var Component = getIcon(icon);
    var isURLIcon = typeof icon === 'string' && (icon === null || icon === void 0 ? void 0 : icon.indexOf('.')) !== -1;
    return Component ? (React__default.createElement(React__default.Fragment, null,
        iconContent ? (React__default.createElement("div", { className: "".concat(wrapClassName || '') + ' ' + iconContent, ref: refFn })) : null,
        !showCssIcon ? (React__default.createElement(Component, __assign({}, rest, { className: "".concat(className || '', " icon-").concat(icon) }))) : null)) : isURLIcon ? (React__default.createElement("img", { className: cx("".concat(classPrefix, "Icon"), className), src: icon })) : (React__default.createElement("span", { className: "text-danger" },
        "\u6CA1\u6709 icon ",
        icon));
}

export { Icon, closeIcon, enterIcon, getIcon, hasIcon, leftArrowIcon, muteIcon, pauseIcon, playIcon, reDoIcon, registerIcon, rightArrowIcon, unDoIcon, volumeIcon };
