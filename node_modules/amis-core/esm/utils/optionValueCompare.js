/**
 * amis-core v2.9.0
 * Copyright 2018-2023 fex
 */

import './helper.js';
import { isEqual } from 'lodash';
import { isObject } from './object.js';

function matchOptionValue(a, b, valueField) {
    if (valueField === void 0) { valueField = 'value'; }
    // a 可能为 Option, 此时需要取其value
    var aValue = isObject(a) && a && a.hasOwnProperty(valueField)
        ? a[valueField]
        : a;
    var bValue = b[valueField || 'value'];
    return isObject(aValue)
        ? isEqual(aValue, bValue)
        : // 当值均为 undefined 时，不应该判定相等
            aValue !== undefined &&
                bValue !== undefined &&
                String(bValue) === String(aValue);
}
function optionValueCompare(a, valueField) {
    if (valueField === void 0) { valueField = 'value'; }
    return function (b) { return matchOptionValue(a, b, valueField); };
}

export { matchOptionValue, optionValueCompare };
