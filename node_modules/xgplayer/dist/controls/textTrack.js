!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.textTrack=e():(t.xgplayer=t.xgplayer||{},t.xgplayer.PlayerControls=t.xgplayer.PlayerControls||{},t.xgplayer.PlayerControls.textTrack=e())}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};e.default={name:"textTrack",method:function(){i.default.method.call(this)}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(2),i=n(4),a=(r=i)&&r.__esModule?r:{default:r};n(5);var s={follow:!0,mode:"stroke",followBottom:50,fitVideo:!0,offsetBottom:2,baseSizeX:49,baseSizeY:28,minSize:16,minMobileSize:13,line:"double",fontColor:"#fff"};e.default={name:"s_textTrack",method:function(){var t=this,e=t.root;if(this.config.textTrack){var n=this.config.textTrack,r=this.config.textTrackStyle||{};Object.keys(s).map((function(t){void 0===r[t]&&(r[t]=s[t])})),t.textTrackShowDefault=!1,n.map((function(e,n){e.id||e.language||(e.id=n),!e.url&&(e.url=e.src),!e.language&&(e.language=e.srclang),void 0===e.isDefault&&(e.isDefault=e.default),!t.textTrackShowDefault&&(t.textTrackShowDefault=e.isDefault||e.default)}));var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r={subTitles:t,defaultOpen:n};return Object.keys(e).map((function(t){r[t]=e[t]})),new a.default(r)}(n,r,t.textTrackShowDefault);i.attachPlayer(t);var c={},u=(0,o.createDom)("xg-texttrack","",{tabindex:7},"xgplayer-texttrack");n&&Array.isArray(n)&&n.length>0&&((0,o.addClass)(t.root,"xgplayer-is-texttrack"),t.once("canplay",(function(){var r=["<ul>"];r.push('<li data-type="off" class="'+(t.textTrackShowDefault?"":"selected")+'">'+t.lang.OFF+"</li>"),n.forEach((function(e){r.push("<li data-id="+e.id+" data-language="+e.language+' class="'+(e.isDefault&&t.textTrackShowDefault?"selected":"")+'">'+e.label+"</li>")}));var i=t.lang.TEXTTRACK;r.push('</ul><p class="name">'+i+"</p>");var a=e.querySelector(".xgplayer-texttrack");if(a){a.innerHTML=r.join("");var s=a.querySelector(".name");t.config.textTrackActive&&"hover"!==t.config.textTrackActive||s.addEventListener("mouseenter",(function(t){t.preventDefault(),t.stopPropagation(),(0,o.addClass)(e,"xgplayer-texttrack-active"),a.focus()}))}else{u.innerHTML=r.join("");var c=u.querySelector(".name");t.config.textTrackActive&&"hover"!==t.config.textTrackActive||c.addEventListener("mouseenter",(function(e){e.preventDefault(),e.stopPropagation(),(0,o.addClass)(t.root,"xgplayer-texttrack-active"),u.focus()})),t.controls.appendChild(u)}}))),["touchend","click"].forEach((function(e){u.addEventListener(e,(function(e){e.preventDefault(),e.stopPropagation();var n=e.target||e.srcElement;if(n&&"li"===n.tagName.toLocaleLowerCase()){var r=n.getAttribute("data-id"),a=n.getAttribute("data-type"),s=n.getAttribute("data-language");Array.prototype.forEach.call(n.parentNode.childNodes,(function(t){(0,o.removeClass)(t,"selected")})),(0,o.addClass)(n,"selected"),"off"===a?(i.switchOff(),(0,o.removeClass)(t.root,"xgplayer-texttrack-active")):(i.switch({id:r,language:s}),(0,o.addClass)(t.root,"xgplayer-texttrack-active"),t.emit("textTrackChange",n.innerHTML))}else"click"!==t.config.textTrackActive||!n||"p"!==n.tagName.toLocaleLowerCase()&&"em"!==n.tagName.toLocaleLowerCase()||((0,o.addClass)(t.root,"xgplayer-texttrack-active"),u.focus())}),!1)}));var l=!1,f=r.followBottom;t.controls&&r.follow&&(i.on("resize",h),t.on("focus",d),t.on("blur",p)),t.once("destroy",(function(){i.off("resize",h),t.off("focus",d),t.off("blur",p),i.destroy(),i=null})),u.addEventListener("mouseleave",(function(e){e.preventDefault(),e.stopPropagation(),(0,o.removeClass)(t.root,"xgplayer-texttrack-active")}))}function d(){var t=c.marginBottom,e=c.vBottom;if(!l&&t){l=!0;var n=t+e;f>n&&(n=f),i&&(i.root.style.bottom=n+"px")}}function p(){l=!1;var t=c.vBottom+c.marginBottom;i&&(i.root.style.bottom=t+"px")}function h(t){c.vBottom=t.vBottom,c.marginBottom=t.marginBottom}}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.util=void 0,e.createDom=a,e.hasClass=s,e.addClass=c,e.removeClass=u,e.toggleClass=l,e.findDom=f,e.padStart=d,e.format=p,e.event=h,e.typeOf=v,e.deepCopy=g,e.getBgImage=y,e.copyDom=m,e._setInterval=x,e._clearInterval=b,e.createImgBtn=_,e.isWeiXin=k,e.isUc=w,e.computeWatchDur=T,e.offInDestroy=S,e.on=O,e.once=j,e.getBuffered2=E,e.checkIsBrowser=C,e.setStyle=M;var r,o=n(3),i=(r=o)&&r.__esModule?r:{default:r};function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=document.createElement(t);return o.className=r,o.innerHTML=e,Object.keys(n).forEach((function(e){var r=e,i=n[e];"video"===t||"audio"===t?i&&o.setAttribute(r,i):o.setAttribute(r,i)})),o}function s(t,e){return!!t&&(t.classList?Array.prototype.some.call(t.classList,(function(t){return t===e})):!!t.className&&!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")))}function c(t,e){t&&(t.classList?e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(e){e&&t.classList.add(e)})):s(t,e)||(t.className+=" "+e))}function u(t,e){t&&(t.classList?e.split(/\s+/g).forEach((function(e){t.classList.remove(e)})):s(t,e)&&e.split(/\s+/g).forEach((function(e){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")})))}function l(t,e){t&&e.split(/\s+/g).forEach((function(e){s(t,e)?u(t,e):c(t,e)}))}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=arguments[1],n=void 0;try{n=t.querySelector(e)}catch(r){0===e.indexOf("#")&&(n=t.getElementById(e.slice(1)))}return n}function d(t,e,n){for(var r=String(n),o=e>>0,i=Math.ceil(o/r.length),a=[],s=String(t);i--;)a.push(r);return a.join("").substring(0,o-s.length)+s}function p(t){if(window.isNaN(t))return"";var e=d(Math.floor(t/3600),2,0),n=d(Math.floor((t-3600*e)/60),2,0),r=d(Math.floor(t-3600*e-60*n),2,0);return("00"===e?[n,r]:[e,n,r]).join(":")}function h(t){if(t.touches){var e=t.touches[0]||t.changedTouches[0];t.clientX=e.clientX||0,t.clientY=e.clientY||0,t.offsetX=e.pageX-e.target.offsetLeft,t.offsetY=e.pageY-e.target.offsetTop}t._target=t.target||t.srcElement}function v(t){return Object.prototype.toString.call(t).match(/([^\s.*]+)(?=]$)/g)[0]}function g(t,e){if("Object"===v(e)&&"Object"===v(t))return Object.keys(e).forEach((function(n){"Object"!==v(e[n])||e[n]instanceof Node?"Array"===v(e[n])?t[n]="Array"===v(t[n])?t[n].concat(e[n]):e[n]:t[n]=e[n]:t[n]?g(t[n],e[n]):t[n]=e[n]})),t}function y(t){var e=(t.currentStyle||window.getComputedStyle(t,null)).backgroundImage;if(!e||"none"===e)return"";var n=document.createElement("a");return n.href=e.replace(/url\("|"\)/g,""),n.href}function m(t){if(t&&1===t.nodeType){var e=document.createElement(t.tagName);return Array.prototype.forEach.call(t.attributes,(function(t){e.setAttribute(t.name,t.value)})),t.innerHTML&&(e.innerHTML=t.innerHTML),e}return""}function x(t,e,n,r){t._interval[e]||(t._interval[e]=setInterval(n.bind(t),r))}function b(t,e){clearInterval(t._interval[e]),t._interval[e]=null}function _(t,e,n,r){var o=a("xg-"+t,"",{},"xgplayer-"+t+"-img");if(o.style.backgroundImage='url("'+e+'")',n&&r){var i=void 0,s=void 0,c=void 0;["px","rem","em","pt","dp","vw","vh","vm","%"].every((function(t){return!(n.indexOf(t)>-1&&r.indexOf(t)>-1)||(i=Number(n.slice(0,n.indexOf(t)).trim()),s=Number(r.slice(0,r.indexOf(t)).trim()),c=t,!1)})),o.style.width=""+i+c,o.style.height=""+s+c,o.style.backgroundSize=""+i+c+" "+s+c,o.style.margin="start"===t?"-"+s/2+c+" auto auto -"+i/2+c:"auto 5px auto 5px"}return o}function k(){return window.navigator.userAgent.toLowerCase().indexOf("micromessenger")>-1}function w(){return window.navigator.userAgent.toLowerCase().indexOf("ucbrowser")>-1}function T(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],n=0;n<t.length;n++)if(!(!t[n].end||t[n].begin<0||t[n].end<0||t[n].end<t[n].begin))if(e.length<1)e.push({begin:t[n].begin,end:t[n].end});else for(var r=0;r<e.length;r++){var o=t[n].begin,i=t[n].end;if(i<e[r].begin){e.splice(r,0,{begin:o,end:i});break}if(!(o>e[r].end)){var a=e[r].begin,s=e[r].end;e[r].begin=Math.min(o,a),e[r].end=Math.max(i,s);break}if(r>e.length-2){e.push({begin:o,end:i});break}}for(var c=0,u=0;u<e.length;u++)c+=e[u].end-e[u].begin;return c}function S(t,e,n,r){t.once(r,(function o(){t.off(e,n),t.off(r,o)}))}function O(t,e,n,r){if(r)t.on(e,n),S(t,e,n,r);else{t.on(e,(function r(o){n(o),t.off(e,r)}))}}function j(t,e,n,r){if(r)t.once(e,n),S(t,e,n,r);else{t.once(e,(function r(o){n(o),t.off(e,r)}))}}function E(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=[],r=0;r<t.length;r++)n.push({start:t.start(r)<.5?0:t.start(r),end:t.end(r)});n.sort((function(t,e){var n=t.start-e.start;return n||e.end-t.end}));var o=[];if(e)for(var a=0;a<n.length;a++){var s=o.length;if(s){var c=o[s-1].end;n[a].start-c<e?n[a].end>c&&(o[s-1].end=n[a].end):o.push(n[a])}else o.push(n[a])}else o=n;return new i.default(o)}function C(){return!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)}function M(t,e,n){var r=t.style;try{r[e]=n}catch(t){r.setProperty(e,n)}}e.util={createDom:a,hasClass:s,addClass:c,removeClass:u,toggleClass:l,findDom:f,padStart:d,format:p,event:h,typeOf:v,deepCopy:g,getBgImage:y,copyDom:m,setInterval:x,clearInterval:b,createImgBtn:_,isWeiXin:k,isUc:w,computeWatchDur:T,offInDestroy:S,on:O,once:j,getBuffered2:E,checkIsBrowser:C,setStyle:M}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bufferedList=e}return r(t,[{key:"start",value:function(t){return this.bufferedList[t].start}},{key:"end",value:function(t){return this.bufferedList[t].end}},{key:"length",get:function(){return this.bufferedList.length}}]),t}();e.default=o,t.exports=e.default},function(t,e,n){t.exports=function(){"use strict";function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e){return t(e={exports:{}},e.exports),e.exports}function n(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=j(e),this.reject=j(n)}function r(t){var e=t.length;return 3===e?(60*(60*Number(t[0])+Number(t[1]))*1e3+1e3*Number(t[2]))/1e3:2===e?(60*Number(t[0])*1e3+1e3*Number(t[1]))/1e3:Number(t[0])}function o(t){return/^(\-|\+)?\d+(\.\d+)?$/.test(t)}function i(t,e){return t>=0&&t<e.length?e[t]:""}function a(t,e){if(!t)return!1;if(t.classList)return Array.prototype.some.call(t.classList,(function(t){return t===e}));var n=t.className&&"object"===Le(t.className)?t.getAttribute("class"):t.className;return n&&!!n.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function s(t,e){t&&(t.classList?e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(e){e&&t.classList.add(e)})):a(t,e)||(t.className&&"object"===Le(t.className)?t.setAttribute("class",t.getAttribute("class")+" "+e):t.className+=" "+e))}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=document.createElement(t);return o.className=r,o.innerHTML=e,rr(n).forEach((function(e){var r=e,i=n[e];"video"===t||"audio"===t||"live-video"===t?i&&o.setAttribute(r,i):o.setAttribute(r,i)})),o}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={code:xr[t].code,msg:xr[t].msg};return rr(e).map((function(t){n[t]=e[t]})),n}function l(t){return new er((function(e,n){t.list&&e(t),new ir({url:t.url,type:"text"}).then((function(r){gr.parse(r.res.response,(function(r,o){if(o){var i=u(2,o);console.trace(i),n(i,{format:r.format})}else if(r.format)t.list=r.list,t.format=r.format,t.styles=r.styles,e(t);else{var a=u(3);console.trace(a),n(a)}}))})).catch((function(t){var e=u(1,{statusText:t.statusText,status:t.status,type:t.type,message:"http load error"});console.trace(e),n(e)}))}))}function f(t,e){return!!(t.id&&t.id===e.id||t.language&&t.language===e.language)}var d=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},p=function(t){return Object(d(t))},h={}.hasOwnProperty,v=function(t,e){return h.call(t,e)},g=e((function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)})),y=(g.version,e((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}))),m=e((function(t){var e=y["__core-js_shared__"]||(y["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:g.version,mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),x=0,b=Math.random(),_=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++x+b).toString(36))},k=m("keys"),w=function(t){return k[t]||(k[t]=_(t))},T=w("IE_PROTO"),S=Object.prototype,O=Object.getPrototypeOf||function(t){return t=p(t),v(t,T)?t[T]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?S:null},j=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},E=function(t,e,n){if(j(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},C=function(t){return"object"==typeof t?null!==t:"function"==typeof t},M=function(t){if(!C(t))throw TypeError(t+" is not an object!");return t},P=function(t){try{return!!t()}catch(t){return!0}},L=!P((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),A=y.document,N=C(A)&&C(A.createElement),R=function(t){return N?A.createElement(t):{}},I=!L&&!P((function(){return 7!=Object.defineProperty(R("div"),"a",{get:function(){return 7}}).a})),B=function(t,e){if(!C(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!C(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!C(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!C(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},D=Object.defineProperty,z={f:L?Object.defineProperty:function(t,e,n){if(M(t),e=B(e,!0),M(n),I)try{return D(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},F=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},U=L?function(t,e,n){return z.f(t,e,F(1,n))}:function(t,e,n){return t[e]=n,t},H=function(t,e,n){var r,o,i,a=t&H.F,s=t&H.G,c=t&H.S,u=t&H.P,l=t&H.B,f=t&H.W,d=s?g:g[e]||(g[e]={}),p=d.prototype,h=s?y:c?y[e]:(y[e]||{}).prototype;for(r in s&&(n=e),n)(o=!a&&h&&void 0!==h[r])&&v(d,r)||(i=o?h[r]:n[r],d[r]=s&&"function"!=typeof h[r]?n[r]:l&&o?E(i,y):f&&h[r]==i?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(i):u&&"function"==typeof i?E(Function.call,i):i,u&&((d.virtual||(d.virtual={}))[r]=i,t&H.R&&p&&!p[r]&&U(p,r,i)))};H.F=1,H.G=2,H.S=4,H.P=8,H.B=16,H.W=32,H.U=64,H.R=128;var W=H,V=function(t,e){var n=(g.Object||{})[t]||Object[t],r={};r[t]=e(n),W(W.S+W.F*P((function(){n(1)})),"Object",r)};V("getPrototypeOf",(function(){return function(t){return O(p(t))}}));var X=g.Object.getPrototypeOf,$=t(e((function(t){t.exports={default:X,__esModule:!0}}))),G=t(e((function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}))),Y=Math.ceil,q=Math.floor,K=function(t){return isNaN(t=+t)?0:(t>0?q:Y)(t)},J=U,Q={},Z={}.toString,tt=function(t){return Z.call(t).slice(8,-1)},et=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==tt(t)?t.split(""):Object(t)},nt=function(t){return et(d(t))},rt=Math.min,ot=function(t){return t>0?rt(K(t),9007199254740991):0},it=Math.max,at=Math.min,st=function(t,e,n){for(var r=nt(t),o=ot(r.length),i=function(t,e){return(t=K(t))<0?it(t+e,0):at(t,e)}(n,o);o>i;i++)if(i in r&&r[i]===e)return i||0;return-1},ct=w("IE_PROTO"),ut=function(t,e){var n,r=nt(t),o=0,i=[];for(n in r)n!=ct&&v(r,n)&&i.push(n);for(;e.length>o;)v(r,n=e[o++])&&(~st(i,n)||i.push(n));return i},lt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ft=Object.keys||function(t){return ut(t,lt)},dt=L?Object.defineProperties:function(t,e){M(t);for(var n,r=ft(e),o=r.length,i=0;o>i;)z.f(t,n=r[i++],e[n]);return t},pt=y.document,ht=pt&&pt.documentElement,vt=w("IE_PROTO"),gt=function(){},yt=function(){var t,e=R("iframe"),n=lt.length;for(e.style.display="none",ht.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),yt=t.F;n--;)delete yt.prototype[lt[n]];return yt()},mt=Object.create||function(t,e){var n;return null!==t?(gt.prototype=M(t),n=new gt,gt.prototype=null,n[vt]=t):n=yt(),void 0===e?n:dt(n,e)},xt=e((function(t){var e=m("wks"),n=y.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:_)("Symbol."+t))}).store=e})),bt=z.f,_t=xt("toStringTag"),kt=function(t,e,n){t&&!v(t=n?t:t.prototype,_t)&&bt(t,_t,{configurable:!0,value:e})},wt={};U(wt,xt("iterator"),(function(){return this}));var Tt=xt("iterator"),St=!([].keys&&"next"in[].keys()),Ot=function(){return this},jt=function(t,e,n,r,o,i,a){!function(t,e,n){t.prototype=mt(wt,{next:F(1,n)}),kt(t,e+" Iterator")}(n,e,r);var s,c,u,l=function(t){if(!St&&t in h)return h[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",d="values"==o,p=!1,h=t.prototype,v=h[Tt]||h["@@iterator"]||o&&h[o],g=v||l(o),y=o?d?l("entries"):g:void 0,m="Array"==e&&h.entries||v;if(m&&(u=O(m.call(new t)))!==Object.prototype&&u.next&&kt(u,f,!0),d&&v&&"values"!==v.name&&(p=!0,g=function(){return v.call(this)}),a&&(St||p||!h[Tt])&&U(h,Tt,g),Q[e]=g,Q[f]=Ot,o)if(s={values:d?g:l("values"),keys:i?g:l("keys"),entries:y},a)for(c in s)c in h||J(h,c,s[c]);else W(W.P+W.F*(St||p),e,s);return s},Et=function(t,e){var n,r,o=String(d(t)),i=K(e),a=o.length;return i<0||i>=a?"":(n=o.charCodeAt(i))<55296||n>56319||i+1===a||(r=o.charCodeAt(i+1))<56320||r>57343?o.charAt(i):o.slice(i,i+2)};jt(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Et(e,n),this._i+=t.length,{value:t,done:!1})}));var Ct=function(t,e){return{value:e,done:!!t}};jt(Array,"Array",(function(t,e){this._t=nt(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ct(1)):Ct(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),Q.Arguments=Q.Array;for(var Mt=xt("toStringTag"),Pt="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Lt=0;Lt<Pt.length;Lt++){var At=Pt[Lt],Nt=y[At],Rt=Nt&&Nt.prototype;Rt&&!Rt[Mt]&&U(Rt,Mt,At),Q[At]=Q.Array}var It={f:xt},Bt=It.f("iterator"),Dt=e((function(t){t.exports={default:Bt,__esModule:!0}}));t(Dt);var zt=e((function(t){var e=_("meta"),n=z.f,r=0,o=Object.isExtensible||function(){return!0},i=!P((function(){return o(Object.preventExtensions({}))})),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!C(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!v(t,e)){if(!o(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!v(t,e)){if(!o(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return i&&s.NEED&&o(t)&&!v(t,e)&&a(t),t}}})),Ft=(zt.KEY,zt.NEED,zt.fastKey,zt.getWeak,zt.onFreeze,z.f),Ut=function(t){var e=g.Symbol||(g.Symbol={});"_"==t.charAt(0)||t in e||Ft(e,t,{value:It.f(t)})},Ht={f:Object.getOwnPropertySymbols},Wt={f:{}.propertyIsEnumerable},Vt=Array.isArray||function(t){return"Array"==tt(t)},Xt=lt.concat("length","prototype"),$t={f:Object.getOwnPropertyNames||function(t){return ut(t,Xt)}},Gt=$t.f,Yt={}.toString,qt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Kt={f:function(t){return qt&&"[object Window]"==Yt.call(t)?function(t){try{return Gt(t)}catch(t){return qt.slice()}}(t):Gt(nt(t))}},Jt=Object.getOwnPropertyDescriptor,Qt={f:L?Jt:function(t,e){if(t=nt(t),e=B(e,!0),I)try{return Jt(t,e)}catch(t){}if(v(t,e))return F(!Wt.f.call(t,e),t[e])}},Zt=zt.KEY,te=Qt.f,ee=z.f,ne=Kt.f,re=y.Symbol,oe=y.JSON,ie=oe&&oe.stringify,ae=xt("_hidden"),se=xt("toPrimitive"),ce={}.propertyIsEnumerable,ue=m("symbol-registry"),le=m("symbols"),fe=m("op-symbols"),de=Object.prototype,pe="function"==typeof re&&!!Ht.f,he=y.QObject,ve=!he||!he.prototype||!he.prototype.findChild,ge=L&&P((function(){return 7!=mt(ee({},"a",{get:function(){return ee(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=te(de,e);r&&delete de[e],ee(t,e,n),r&&t!==de&&ee(de,e,r)}:ee,ye=function(t){var e=le[t]=mt(re.prototype);return e._k=t,e},me=pe&&"symbol"==typeof re.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof re},xe=function(t,e,n){return t===de&&xe(fe,e,n),M(t),e=B(e,!0),M(n),v(le,e)?(n.enumerable?(v(t,ae)&&t[ae][e]&&(t[ae][e]=!1),n=mt(n,{enumerable:F(0,!1)})):(v(t,ae)||ee(t,ae,F(1,{})),t[ae][e]=!0),ge(t,e,n)):ee(t,e,n)},be=function(t,e){M(t);for(var n,r=function(t){var e=ft(t),n=Ht.f;if(n)for(var r,o=n(t),i=Wt.f,a=0;o.length>a;)i.call(t,r=o[a++])&&e.push(r);return e}(e=nt(e)),o=0,i=r.length;i>o;)xe(t,n=r[o++],e[n]);return t},_e=function(t,e){if(t=nt(t),e=B(e,!0),t!==de||!v(le,e)||v(fe,e)){var n=te(t,e);return!n||!v(le,e)||v(t,ae)&&t[ae][e]||(n.enumerable=!0),n}},ke=function(t){for(var e,n=ne(nt(t)),r=[],o=0;n.length>o;)v(le,e=n[o++])||e==ae||e==Zt||r.push(e);return r},we=function(t){for(var e,n=t===de,r=ne(n?fe:nt(t)),o=[],i=0;r.length>i;)!v(le,e=r[i++])||n&&!v(de,e)||o.push(le[e]);return o};pe||(J((re=function(){if(this instanceof re)throw TypeError("Symbol is not a constructor!");var t=_(arguments.length>0?arguments[0]:void 0),e=function(n){this===de&&e.call(fe,n),v(this,ae)&&v(this[ae],t)&&(this[ae][t]=!1),ge(this,t,F(1,n))};return L&&ve&&ge(de,t,{configurable:!0,set:e}),ye(t)}).prototype,"toString",(function(){return this._k})),Qt.f=_e,z.f=xe,$t.f=Kt.f=ke,Wt.f=function(t){var e=ce.call(this,t=B(t,!0));return!(this===de&&v(le,t)&&!v(fe,t))&&(!(e||!v(this,t)||!v(le,t)||v(this,ae)&&this[ae][t])||e)},Ht.f=we,It.f=function(t){return ye(xt(t))}),W(W.G+W.W+W.F*!pe,{Symbol:re});for(var Te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Se=0;Te.length>Se;)xt(Te[Se++]);for(var Oe=ft(xt.store),je=0;Oe.length>je;)Ut(Oe[je++]);W(W.S+W.F*!pe,"Symbol",{for:function(t){return v(ue,t+="")?ue[t]:ue[t]=re(t)},keyFor:function(t){if(!me(t))throw TypeError(t+" is not a symbol!");for(var e in ue)if(ue[e]===t)return e},useSetter:function(){ve=!0},useSimple:function(){ve=!1}}),W(W.S+W.F*!pe,"Object",{create:function(t,e){return void 0===e?mt(t):be(mt(t),e)},defineProperty:xe,defineProperties:be,getOwnPropertyDescriptor:_e,getOwnPropertyNames:ke,getOwnPropertySymbols:we});var Ee=P((function(){Ht.f(1)}));W(W.S+W.F*Ee,"Object",{getOwnPropertySymbols:function(t){return Ht.f(p(t))}}),oe&&W(W.S+W.F*(!pe||P((function(){var t=re();return"[null]"!=ie([t])||"{}"!=ie({a:t})||"{}"!=ie(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(C(e)||void 0!==t)&&!me(t))return Vt(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!me(e))return e}),r[1]=e,ie.apply(oe,r)}}),re.prototype[se]||U(re.prototype,se,re.prototype.valueOf),kt(re,"Symbol"),kt(Math,"Math",!0),kt(y.JSON,"JSON",!0),Ut("asyncIterator"),Ut("observable");var Ce=g.Symbol,Me=e((function(t){t.exports={default:Ce,__esModule:!0}}));t(Me);var Pe=e((function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(Dt),o=n(Me),i="function"==typeof o.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};e.default="function"==typeof o.default&&"symbol"===i(r.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}})),Le=t(Pe),Ae=t(e((function(t,e){e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(Pe);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,n.default)(e))&&"function"!=typeof e?t:e}})));W(W.S+W.F*!L,"Object",{defineProperty:z.f});var Ne=g.Object,Re=function(t,e,n){return Ne.defineProperty(t,e,n)},Ie=e((function(t){t.exports={default:Re,__esModule:!0}}));t(Ie);var Be=t(e((function(t,e){e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(Ie);e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,n.default)(t,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()}))),De=function(t,e){if(M(t),!C(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},ze={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=E(Function.call,Qt.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return De(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:De};W(W.S,"Object",{setPrototypeOf:ze.set});var Fe=g.Object.setPrototypeOf,Ue=e((function(t){t.exports={default:Fe,__esModule:!0}}));t(Ue),W(W.S,"Object",{create:mt});var He=g.Object,We=function(t,e){return He.create(t,e)},Ve=e((function(t){t.exports={default:We,__esModule:!0}}));t(Ve);var Xe,$e,Ge,Ye=t(e((function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(Ue),o=n(Ve),i=n(Pe);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}}))),qe=xt("toStringTag"),Ke="Arguments"==tt(function(){return arguments}()),Je=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),qe))?n:Ke?tt(e):"Object"==(r=tt(e))&&"function"==typeof e.callee?"Arguments":r},Qe=function(t,e,n,r){try{return r?e(M(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&M(o.call(t)),e}},Ze=xt("iterator"),tn=Array.prototype,en=xt("iterator"),nn=g.getIteratorMethod=function(t){if(null!=t)return t[en]||t["@@iterator"]||Q[Je(t)]},rn=e((function(t){var e={},n={},r=t.exports=function(t,r,o,i,a){var s,c,u,l,f=a?function(){return t}:nn(t),d=E(o,i,r?2:1),p=0;if("function"!=typeof f)throw TypeError(t+" is not iterable!");if(function(t){return void 0!==t&&(Q.Array===t||tn[Ze]===t)}(f)){for(s=ot(t.length);s>p;p++)if((l=r?d(M(c=t[p])[0],c[1]):d(t[p]))===e||l===n)return l}else for(u=f.call(t);!(c=u.next()).done;)if((l=Qe(u,d,c.value,r))===e||l===n)return l};r.BREAK=e,r.RETURN=n})),on=xt("species"),an=function(t,e){var n,r=M(t).constructor;return void 0===r||null==(n=M(r)[on])?e:j(n)},sn=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},cn=y.process,un=y.setImmediate,ln=y.clearImmediate,fn=y.MessageChannel,dn=y.Dispatch,pn=0,hn={},vn=function(){var t=+this;if(hn.hasOwnProperty(t)){var e=hn[t];delete hn[t],e()}},gn=function(t){vn.call(t.data)};un&&ln||(un=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return hn[++pn]=function(){sn("function"==typeof t?t:Function(t),e)},Xe(pn),pn},ln=function(t){delete hn[t]},"process"==tt(cn)?Xe=function(t){cn.nextTick(E(vn,t,1))}:dn&&dn.now?Xe=function(t){dn.now(E(vn,t,1))}:fn?(Ge=($e=new fn).port2,$e.port1.onmessage=gn,Xe=E(Ge.postMessage,Ge,1)):y.addEventListener&&"function"==typeof postMessage&&!y.importScripts?(Xe=function(t){y.postMessage(t+"","*")},y.addEventListener("message",gn,!1)):Xe="onreadystatechange"in R("script")?function(t){ht.appendChild(R("script")).onreadystatechange=function(){ht.removeChild(this),vn.call(t)}}:function(t){setTimeout(E(vn,t,1),0)});var yn={set:un,clear:ln},mn=yn.set,xn=y.MutationObserver||y.WebKitMutationObserver,bn=y.process,_n=y.Promise,kn="process"==tt(bn),wn={f:function(t){return new n(t)}},Tn=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Sn=y.navigator,On=Sn&&Sn.userAgent||"",jn=function(t,e){if(M(t),C(e)&&e.constructor===t)return e;var n=wn.f(t);return(0,n.resolve)(e),n.promise},En=xt("species"),Cn=xt("iterator"),Mn=!1;try{var Pn=[7][Cn]();Pn.return=function(){Mn=!0},Array.from(Pn,(function(){throw 2}))}catch(t){}var Ln,An,Nn,Rn,In=yn.set,Bn=function(){var t,e,n,r=function(){var r,o;for(kn&&(r=bn.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(kn)n=function(){bn.nextTick(r)};else if(!xn||y.navigator&&y.navigator.standalone)if(_n&&_n.resolve){var o=_n.resolve(void 0);n=function(){o.then(r)}}else n=function(){mn.call(y,r)};else{var i=!0,a=document.createTextNode("");new xn(r).observe(a,{characterData:!0}),n=function(){a.data=i=!i}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}(),Dn=y.TypeError,zn=y.process,Fn=zn&&zn.versions,Un=Fn&&Fn.v8||"",Hn=y.Promise,Wn="process"==Je(zn),Vn=function(){},Xn=An=wn.f,$n=!!function(){try{var t=Hn.resolve(1),e=(t.constructor={})[xt("species")]=function(t){t(Vn,Vn)};return(Wn||"function"==typeof PromiseRejectionEvent)&&t.then(Vn)instanceof e&&0!==Un.indexOf("6.6")&&-1===On.indexOf("Chrome/66")}catch(t){}}(),Gn=function(t){var e;return!(!C(t)||"function"!=typeof(e=t.then))&&e},Yn=function(t,e){if(!t._n){t._n=!0;var n=t._c;Bn((function(){for(var r=t._v,o=1==t._s,i=0;n.length>i;)!function(e){var n,i,a,s=o?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(o||(2==t._h&&Jn(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?u(Dn("Promise-chain cycle")):(i=Gn(n))?i.call(n,c,u):c(n)):u(r)}catch(t){l&&!a&&l.exit(),u(t)}}(n[i++]);t._c=[],t._n=!1,e&&!t._h&&qn(t)}))}},qn=function(t){In.call(y,(function(){var e,n,r,o=t._v,i=Kn(t);if(i&&(e=Tn((function(){Wn?zn.emit("unhandledRejection",o,t):(n=y.onunhandledrejection)?n({promise:t,reason:o}):(r=y.console)&&r.error&&r.error("Unhandled promise rejection",o)})),t._h=Wn||Kn(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},Kn=function(t){return 1!==t._h&&0===(t._a||t._c).length},Jn=function(t){In.call(y,(function(){var e;Wn?zn.emit("rejectionHandled",t):(e=y.onrejectionhandled)&&e({promise:t,reason:t._v})}))},Qn=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Yn(e,!0))},Zn=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw Dn("Promise can't be resolved itself");(e=Gn(t))?Bn((function(){var r={_w:n,_d:!1};try{e.call(t,E(Zn,r,1),E(Qn,r,1))}catch(t){Qn.call(r,t)}})):(n._v=t,n._s=1,Yn(n,!1))}catch(t){Qn.call({_w:n,_d:!1},t)}}};$n||(Hn=function(t){(function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!")})(this,Hn,"Promise","_h"),j(t),Ln.call(this);try{t(E(Zn,this,1),E(Qn,this,1))}catch(t){Qn.call(this,t)}},(Ln=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var r in e)U(t,r,e[r]);return t}(Hn.prototype,{then:function(t,e){var n=Xn(an(this,Hn));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Wn?zn.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Yn(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Nn=function(){var t=new Ln;this.promise=t,this.resolve=E(Zn,t,1),this.reject=E(Qn,t,1)},wn.f=Xn=function(t){return t===Hn||t===Rn?new Nn(t):An(t)}),W(W.G+W.W+W.F*!$n,{Promise:Hn}),kt(Hn,"Promise"),function(t){var e="function"==typeof g[t]?g[t]:y[t];L&&e&&!e[En]&&z.f(e,En,{configurable:!0,get:function(){return this}})}("Promise"),Rn=g.Promise,W(W.S+W.F*!$n,"Promise",{reject:function(t){var e=Xn(this);return(0,e.reject)(t),e.promise}}),W(W.S+!0*W.F,"Promise",{resolve:function(t){return jn(this===Rn?Hn:this,t)}}),W(W.S+W.F*!($n&&function(t,e){if(!Mn)return!1;var n=!1;try{var r=[7],o=r[Cn]();o.next=function(){return{done:n=!0}},r[Cn]=function(){return o},function(t){Hn.all(t).catch(Vn)}(r)}catch(t){}return n}()),"Promise",{all:function(t){var e=this,n=Xn(e),r=n.resolve,o=n.reject,i=Tn((function(){var n=[],i=0,a=1;rn(t,!1,(function(t){var s=i++,c=!1;n.push(void 0),a++,e.resolve(t).then((function(t){c||(c=!0,n[s]=t,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=Xn(e),r=n.reject,o=Tn((function(){rn(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}}),W(W.P+W.R,"Promise",{finally:function(t){var e=an(this,g.Promise||y.Promise),n="function"==typeof t;return this.then(n?function(n){return jn(e,t()).then((function(){return n}))}:t,n?function(n){return jn(e,t()).then((function(){throw n}))}:t)}}),W(W.S,"Promise",{try:function(t){var e=wn.f(this),n=Tn(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}});var tr=g.Promise,er=t(e((function(t){t.exports={default:tr,__esModule:!0}})));V("keys",(function(){return function(t){return ft(p(t))}}));var nr=g.Object.keys,rr=t(e((function(t){t.exports={default:nr,__esModule:!0}}))),or=e((function(t){function e(){}function n(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(t,e,r,o,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new n(r,o||t,i),c=s?s+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function o(t,n){0==--t._eventsCount?t._events=new e:delete t._events[n]}function i(){this._events=new e,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(e.prototype=Object.create(null),(new e).__proto__||(s=!1)),i.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)a.call(t,e)&&n.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},i.prototype.listeners=function(t){var e=s?s+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},i.prototype.listenerCount=function(t){var e=s?s+t:t,n=this._events[e];return n?n.fn?1:n.length:0},i.prototype.emit=function(t,e,n,r,o,i){var a=s?s+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,o),!0;case 6:return l.fn.call(l.context,e,n,r,o,i),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,r);break;default:if(!c)for(d=1,c=new Array(f-1);d<f;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},i.prototype.on=function(t,e,n){return r(this,t,e,n,!1)},i.prototype.once=function(t,e,n){return r(this,t,e,n,!0)},i.prototype.removeListener=function(t,e,n,r){var i=s?s+t:t;if(!this._events[i])return this;if(!e)return o(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||o(this,i);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||r&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[i]=1===u.length?u[0]:u:o(this,i)}return this},i.prototype.removeAllListeners=function(t){var n;return t?(n=s?s+t:t,this._events[n]&&o(this,n)):(this._events=new e,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=s,i.EventEmitter=i,t.exports=i})),ir=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.url,r=e.method,o=void 0===r?"GET":r,i=e.type,a=void 0===i?"arraybuffer":i,s=e.timeout,c=void 0===s?1e4:s,u=e.data,l=void 0===u?{}:u,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return G(this,t),new er((function(t,e){var r=new window.XMLHttpRequest,i=o.toUpperCase(),s=[];for(var u in a&&(r.responseType=a),c&&(r.timeout=c),l)s.push("k="+l[u]);if(r.onload=function(){200===r.status||206===r.status?t({context:f,res:r}):e(new Error({context:f,res:r,type:"error"}))},r.onerror=function(t){e(new Error({context:f,res:r,type:"error"}))},r.ontimeout=function(t){e(new Error({context:f,res:r,type:"error"}))},r.onabort=function(){e(new Error({context:f,res:r,type:"error"}))},"GET"===i)r.open(i,""+n),r.send();else{if("post"!==i)throw new Error("xhr "+i+" is not supported");r.open(i,n),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(s.join("&"))}}))},ar=/^WEBVTT/,sr=/^STYLE+$/,cr=/^\:\:cue/,ur=/^}+$/,lr=/^\[Script Info\].*/,fr=[/[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{3}-->[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{3}/,/[0-9]{2}:[0-9]{2}\.[0-9]{3}-->[0-9]{2}:[0-9]{2}\.[0-9]{3}/,/[0-9]{2}\.[0-9]{3}-->[0-9]{2}\.[0-9]{3}/],dr=/^(<?.+?>(([\s\S])*?)<\/?.+?>)$/,pr=/^Format:\s/,hr=/^Style:\s/,vr=/^Dialogue:\s/,gr=function(){function t(){G(this,t)}return Be(t,null,[{key:"parse",value:function(e,n){var r=t.checkFormat(e);r||n({format:r});try{var o=[];"ass"===r?o=t.parseASS(e):"vtt"===r&&(o=t.parseVTT(e)),n({format:r,list:o.list,styles:o.styles})}catch(t){console.error(t),n({format:r},t)}}},{key:"parseASSItem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.split(","),o={},i="";try{var a=n.length-e.length;return i=i=(i=a>0?n.splice(e.length-1,a+1).join(",")+"":n[n.length-1]+"").replace(/\\n+/g,""),n[e.length-1]=i,e.map((function(t,e){"end"===t||"start"===t?o[t]=r(n[e].split(":")):"text"===t?o[t]=[n[e]]:"layer"===t?(o[t]=[n[e]],o.textTag=[n[e]]):o[t]="style"===t?[n[e]]:Number(n[e])?Number(n[e]):n[e]})),o}catch(t){return console.error(t),{}}}},{key:"parseASS",value:function(e){for(var n=e.split("\n"),r=[],o=0,i=0,a=[],s=[],c=null;o<n.length;){if(pr.test(n[o]))s=(s=n[o].replace(pr,"").replace(/\s+/g,"").split(",")).map((function(t){return t.toLocaleLowerCase()}));else if(hr.test(n[o]))a.push(n[o].replace(hr,"").replace(/\s+/g,""));else if(vr.test(n[o])){var u=t.parseASSItem(n[o].replace(vr,""),s);if(c&&u.start===c.start&&u.end===c.end)try{var l=c,f=l.text,d=l.textTag,p=l.style;f.push(u.text[0]),d.push(u.textTag[0]),p.push(u.style[0])}catch(t){console.error(t)}else{c=u;var h=null;i%50==0?((h={start:c.start,end:c.end,list:[]}).list.push(c),r.push(h)):((h=r[r.length-1]).end=c.end,h.list.push(c)),i++}}o++}return{list:r,style:{}}}},{key:"parseVTTStyle",value:function(t,e){var n=t.split(":");if(n.length>1){var r=n[0].trim().split("-"),o="";r.length>1?r.map((function(t,e){o+=0===e?t:t.charAt(0).toUpperCase()+t.slice(1)})):o=r[0],e[o]=n[1].trim().replace(/;$/,"")}return e}},{key:"parseVTT",value:function(t){for(var e=(t=t.replace(ar,"")).split("\n"),n=[],r=0,a=0,s=null,c=null,u=!1,l=!1,f=null,d=null,p=[];r<e.length;){var h=i(r,e).trim();if(!h||u&&o(h))u=!h;else if(cr.test(h)&&sr.test(i(r-1,e).trim())){l=!0;var v=/\((.+?)\)/g.exec(h);d=v?v[1]:"",f=""}else if(l)ur.test(h)?(p.push({key:d,style:f}),f=null,d=null,l=!1):f+=h;else if(h){u=!1;var g=this.checkIsTime(e[r]);if(g){var y=this.parseVttTime(g);if(!s||y.start!==s.start||y.end!==s.end){(s=y).text=[],s.textTag=[];var m=null;a%50==0?((m={start:s.start,end:s.end,list:[]}).list.push(s),n.push(m)):((m=n[n.length-1]).end=s.end,m.list.push(s)),a++}}else if(s){var x=s,b=x.text,_=x.textTag,k=this.parseVttText(e[r]);0===_.length||c||k.tag&&k.tag!==_[_.length-1]?(b.push(k.text),_.push(k.tag)):b[_.length-1]+=k.text}c=g,u=!1}r++}return{list:n,styles:p}}},{key:"checkIsTime",value:function(t){t=t.replace(/\s+/g,"");for(var e=0,n=null;e<fr.length&&!(n=fr[e].exec(t));)e++;return n?n[0]:null}},{key:"parseVttText",value:function(t){var e=dr.exec(t),n="",r="default";e?(n=e[e.length-2],r=/^(<?.+?>)/gi.exec(t)[0].replace(/\<|\>|\&/g,"")):n=t;for(var o=/<(\w+).(\w+)>/g,i=o.exec(n);i&&i.length>2;)n=n.replace(i[0],"<"+i[1]+' class="'+i[2]+'">'),i=o.exec(n);return{tag:r,text:n.replace(/\\n+/g,"")}}},{key:"parseVttTime",value:function(t){var e=t.split("--\x3e"),n=void 0,o=0;if(2===e.length){var i=e[0].split(":"),a=e[1].split(":");n=r(i),o=r(a)}return{start:n,end:o,time:t}}},{key:"isVTT",value:function(t){return ar.test(t)}},{key:"isASS",value:function(t){return lr.test(t)}},{key:"checkFormat",value:function(t){return t?ar.test(t)?"vtt":lr.test(t)?"ass":null:null}}]),t}(),yr=function(){function t(){var e=this;G(this,t),this.__handlers=[],window.ResizeObserver&&(this.observer=new window.ResizeObserver((function(t){e.__trigger(t)})))}return Be(t,[{key:"addObserver",value:function(t,e){if(this.observer){this.observer&&this.observer.observe(t);for(var n=this.__handlers,r=-1,o=0;o<n.length;o++)n[o]&&t===n[o].target&&(r=o);r>-1?this.__handlers[r].handler.push(e):this.__handlers.push({target:t,handler:[e]})}}},{key:"unObserver",value:function(t){var e=-1;this.__handlers.map((function(n,r){t===n.target&&(e=r)})),this.observer&&this.observer.unobserve(t),e>-1&&this.__handlers.splice(e,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(t,e){for(var n=this.__handlers,r=0;r<n.length;r++)if(n[r]&&t===n[r].target){n[r].handler&&n[r].handler.map((function(n){try{n(t,e)}catch(t){console.error(t)}}));break}}},{key:"__trigger",value:function(t){var e=this;t.map((function(t){var n=t.contentRect;e.__runHandler(t.target,n)}))}}]),t}(),mr=null;!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}('xg-text-track.xg-text-track {\n  font-family: "PingFang SC","SF Pro SC","SF Pro Text","SF Pro Icons","Helvetica Neue","Helvetica","Arial",sans-serif;\n  -webkit-font-smoothing: antialiased;\n  position: absolute;\n  bottom: 0;\n  color: #fff;\n  left: 0;\n  right: 0;\n  pointer-events: none; }\n  xg-text-track.xg-text-track.text-track-no-fitvideo {\n    margin-bottom: 2%; }\n  xg-text-track.xg-text-track.text-track-hide {\n    opacity: 0;\n    visibility: hidden; }\n  xg-text-track.xg-text-track.text-track-show {\n    opacity: 1;\n    visibility: visible; }\n  xg-text-track.xg-text-track xg-text-track-inner {\n    display: block;\n    position: relative;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%);\n    max-width: 92%; }\n  xg-text-track.xg-text-track xg-text-track-span {\n    display: -webkit-box;\n    text-align: center;\n    text-overflow: ellipsis;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    padding: 1px 4px;\n    -webkit-line-clamp: 1;\n    line-height: 120%;\n    word-break: break-all; }\n    xg-text-track.xg-text-track xg-text-track-span.text-track-deputy {\n      font-size: 75%; }\n    xg-text-track.xg-text-track xg-text-track-span.text-track-single {\n      -webkit-line-clamp: 1; }\n    xg-text-track.xg-text-track xg-text-track-span.text-track-double {\n      -webkit-line-clamp: 2; }\n    xg-text-track.xg-text-track xg-text-track-span.text-track-three {\n      -webkit-line-clamp: 3; }\n  xg-text-track.xg-text-track.text-track-bg xg-text-track-inner {\n    background-color: rgba(0, 0, 0, .54);\n    border-radius: 2px; }\n  xg-text-track.xg-text-track.text-track-stroke xg-text-track-inner {\n    background-color: none;\n    border-radius: 0;\n    text-shadow: -1px 1px 0 rgba(0, 0, 0, .7), 1px 1px 0 rgba(0, 0, 0, .7), 1px -1px 0 rgba(0, 0, 0, .7), -1px -1px 0 rgba(0, 0, 0, .7); }\n');var xr=[{code:0,msg:"SUCCESS"},{code:1,msg:"LOAD_ERROR"},{code:2,msg:"PARSER_ERROR"},{code:3,msg:"FORMAT_NOT_SUPPORTED"},{code:4,msg:"ID_OR_LANGUAGE_NOT_EXIST"},{code:5,msg:"PARAMETERS_ERROR"},{code:6,msg:"ABORT"},{code:7,msg:"UNKNOWN"}],br="resize",_r=!1;return function(t){function e(t){G(this,e);var n=Ae(this,(e.__proto__||$(e)).call(this));return _r=function(){var t=navigator.userAgent,e=/(?:Windows Phone)/.test(t),n=/(?:SymbianOS)/.test(t)||e,r=/(?:Android)/.test(t),o=/(?:Firefox)/.test(t),i=/(?:iPad|PlayBook)/.test(t)||r&&!/(?:Mobile)/.test(t)||o&&/(?:Tablet)/.test(t);return/(?:iPhone)/.test(t)&&!i||r||n||i}(),n.currentText=null,n.textTrack=[],n._cid=-1,n._gid=-1,n._cids=[],n._iId=null,n._iC=0,n.player=null,n.root=null,n.config={line:"double",bottom:0,mode:"stroke",defaultOpen:!1,baseSizeX:49,baseSizeY:28,minSize:16,minMobileSize:13,fitVideo:!0,offsetBottom:2,fontColor:"#fff"},n._ctime=0,n._loadingTrack={},rr(n.config).map((function(e){void 0!==t[e]&&null!==t[e]&&(n.config[e]=t[e])})),n._isOpen=n.config.defaultOpen||!1,n._videoMeta={scale:0,videoHeight:0,videoWidth:0,lwidth:0,lheight:0,vWidth:0,vHeight:0,vBottom:0,vLeft:0,marginBottom:0},t.subTitles&&"Array"===function(t){return Object.prototype.toString.call(t).match(/([^\s.*]+)(?=]$)/g)[0]}(t.subTitles)?(n.setSubTitles(t.subTitles),t.player&&n.attachPlayer(t.player),n.currentText&&l(n.currentText).then((function(t){n.addStyles(t)})),n):Ae(n)}return Ye(e,t),Be(e,[{key:"version",get:function(){return"1.0.12"}}]),Be(e,[{key:"setSubTitles",value:function(){var t=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var n={};rr(e).map((function(t){n[t]=e[t]})),n.isDefault&&(t.currentText=n),t.textTrack.push(n)}))}},{key:"addStyles",value:function(t){var e=t.styles,n=t.format;e&&"vtt"===n&&(e.map((function(t){t.key||(t.key="xg-text-track-span")})),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";t.map((function(t){n+=" "+e+" "+t.key+" {"+t.style+"}"}));var r=document.createElement("style"),o=document.head||document.getElementsByTagName("head")[0];if(r.type="text/css",r.id="ssss",r.styleSheet){var i=function(){try{r.styleSheet.cssText=n}catch(t){}};r.styleSheet.disabled?setTimeout(i,10):i()}else{var a=document.createTextNode(n);r.appendChild(a)}o.appendChild(r)}(e,"xg-text-track"))}},{key:"attachPlayer",value:function(t){var e=this;if(t){this.player&&this.detachPlayer();var n=this.config,r=n.fontColor,o=n.mode,i=n.fitVideo;this.player=t,this.root=document.createElement("xg-text-track"),this.root.className="xg-text-track",!this._isOpen&&s(this.root,"text-track-hide"),!i&&s(this.root,"text-track-no-fitvideo"),o&&s(this.root,"text-track-"+o),this.innerRoot=document.createElement("xg-text-track-inner"),this.root.appendChild(this.innerRoot),r&&(this.root.style.color=r),this.currentText&&["language","id","label"].map((function(t){e.root.setAttribute("data-"+t,e.currentText[t]||"")})),this.player.root.appendChild(this.root),["destroy","__onTimeupdate","_onResize"].map((function(t){e[t]=e[t].bind(e)})),this.player.on("destroy",this.destroy),this.player.on("timeupdate",this.__onTimeupdate),function(t,e){mr||(mr=new yr),mr.addObserver(t,e)}(t.root,this._onResize)}}},{key:"detachPlayer",value:function(){var t=this.player;t&&(t.off("destroy",this.destroy),t.off("timeupdate",this.__onTimeupdate),t.root&&(function(t,e){mr&&mr.unObserver(t,e)}(t.root,this._onResize),t.root.removeChild(this.root)),this.innerRoot=null,this.root=null,this.player=null)}},{key:"switch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:"",language:""};return this._loadingTrack=e,new er((function(n,r){if(!e.id&&!e.language)if(t.currentText){t._loadingTrack={},t._updateCurrent(t.currentText),t._isOpen=!0,t.show();var o=u(0,{message:"switch default subtitle success"});console.trace(o),n(o)}else{var i=u(5,{message:"no default subtitle"});console.trace(i),r(i)}if(t.currentText&&f(e,t.currentText))t._loadingTrack={},t._updateCurrent(t.currentText),t._isOpen=!0,t.show(),n(u(0));else{for(var a=null,s=0;s<t.textTrack.length;s++)if(f(e,t.textTrack[s])){a=t.textTrack[s];break}if(a)a.list?(t._loadingTrack={},t._updateCurrent(a),t._isOpen=!0,t.show(),n(u(0))):l(a).then((function(e){if(t.addStyles(e),t._loadingTrack.id===a.id||t._loadingTrack.language===e.language)t._loadingTrack={},t._updateCurrent(e),t._isOpen=!0,t.show(),n(u(0));else{var o=u(6,{message:"check _loadingTrack fail id: "+t._loadingTrack.id+"  nextSubtitle:"+e.id});console.trace(o),r(o)}})).catch((function(t){r(t)}));else{var c=u(4,new Error("The is no subtitle with id:[{"+e.id+"}] or language:["+e.language+"]"));console.trace(c),r(c)}}}))}},{key:"switchOff",value:function(){this._isOpen=!1,this.hide()}},{key:"_updateCurrent",value:function(t){var e=this;this.currentText=t,["language","id","label"].map((function(t){e.root.setAttribute("data-"+t,e.currentText[t]||"")})),this.__remove(this._cids);var n=this.player.currentTime;this._cids=[],this._gid=-1,this._cid=-1,this._update(n)}},{key:"__loadAll",value:function(){this.textTrack.map((function(t){l(t)}))}},{key:"getDelCid",value:function(t,e){for(var n=[],r=0;r<t.length;r++)e.includes(t[r])||n.push(t[r]);return n}},{key:"getNewCid",value:function(t,e){for(var n=[],r=0;r<e.length;r++)t.includes(e[r])||n.push(e[r]);return n}},{key:"_update",value:function(t){var e=this,n=function(t,e,n){var r=e.length;if(r<1)return-1;if(e[n=n<0?0:n>=r?r-1:n].start<=t&&t<e[n].end)return n;for(var o=e[n].end<=t?n+1:0;o<r;o++){if(e[o].start<=t&&t<e[o].end)return o;if(t>e[o].end&&o+1<r&&t<e[o+1].start)return-1;if(t>e[o].end&&o+1>=r)return-1}return-1}(t,this.currentText.list,this._gid),r=[];if(n>-1&&(r=function(t,e,n){var r=e.length;if(r<1)return[];var o=[];if((n=n<0?0:n>=r?r-1:n)<r)for(var i=e[n].end<=t?n:0;i<r&&(e[i].start<=t&&t<e[i].end&&o.push(i),!(t<e[i].start));i++);return o}(t,this.currentText.list[n].list,this._cid)),r.length<1)return this._cids.length>0&&this.__remove(this._cids),void(this._cids=[]);if(this._cids!==r||n!==this._gid){this._gid=n,this._cid=r[0];var o=this.getDelCid(this._cids,r),i=this.getNewCid(this._cids,r);this._cids=r,this.__remove(o);var a=[];i.map((function(t){var r=e.currentText.list[n].list[t];r.index=t,a.push(r)})),this.__render(a,t)}}},{key:"__onTimeupdate",value:function(){if(this._isOpen){var t=this.player.video,e=t.videoWidth,n=t.videoHeight;!this._videoMeta.scale&&e&&n&&this._onResize(this.player.root);var r=this.player.currentTime;Math.round(Math.abs(1e3*r-this._ctime))<200||(this._ctime=1e3*r,this.currentText&&this.currentText.list&&this._update(r))}}},{key:"_onResize",value:function(t){var e=this._videoMeta;if(t&&t instanceof window.Element||(t=this.player.root),this._iId&&(clearTimeout(this._iId),this._iId=null),!e.scale){if(!this.player.video)return;var n=this.player.video,r=n.videoWidth,o=n.videoHeight;if(!r||!o)return;e.videoWidth=r,e.videoHeight=o,e.scale=parseInt(o/r*100,10)}this.__startResize(t)}},{key:"resize",value:function(t,e){var n=this,r=this.config,o=r.baseSizeX,i=r.baseSizeY,a=r.minMobileSize,s=r.minSize,c=r.fitVideo,u=r.offsetBottom,l=this._videoMeta.scale;this._videoMeta.lwidth=t,this._videoMeta.lheight=e;var f=void 0,d=0;e/t*100>=l?(d=parseInt(l*t,10)/100,f=t):(d=e,f=parseInt(e/l*100,10)),this._videoMeta.vWidth=f,this._videoMeta.vHeight=d;var p=0,h=0;l>120?(p=i,h=parseInt(p*d/1080,10)):(p=o,h=parseInt(p*f/1920,10));var v=_r?a:s,g={fontSize:h=h<v?v:h>p?p:h},y=parseInt((e-d)/2,10),m=parseInt((t-f)/2,10),x=parseInt(d*u,10)/100;this._videoMeta.vBottom=y,this._videoMeta.vLeft=m,this._videoMeta.marginBottom=x,c&&(g.bottom=y+x,g.left=g.right=m),rr(g).map((function(t){n.root.style[t]=g[t]+"px"})),this.emit(br,{vLeft:m,vBottom:y,marginBottom:x,vWidth:f,vHeight:d,fontSize:h,scale:l})}},{key:"__startResize",value:function(t){var e=this,n=t.getBoundingClientRect(),r=this._videoMeta,o=n.width,i=n.height;if(this._iId&&(clearTimeout(this._iId),this._iId=null),o>0&&i>0&&(o!==r.lwidth||i!==r.lheight))this._iC=0,this.resize(o,i);else{if(this._iC>=5)return void(this._iC=0);this._iC++,this._iId=setTimeout((function(){e.__startResize(t)}),50)}}},{key:"__remove",value:function(t){var e=this;if(t&&!(t.length<1)){for(var n=this.innerRoot.children,r=[],o=0;o<n.length;o++){var i=Number(n[o].getAttribute("data-index"));t.includes(i)&&r.push(n[o])}r.map((function(t){e.innerRoot.removeChild(t)}))}}},{key:"__render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>0&&e.map((function(e){var n="text-track-"+t.config.line;e.text.map((function(r,o){o>0&&(n+=" text-track-deputy");var i={"data-tag":e.textTag[o],"data-start":e.start,"data-end":e.end,"data-index":e.index};t.innerRoot.appendChild(c("xg-text-track-span",r,i,n))}))}))}},{key:"show",value:function(){!function(t,e){t&&(t.classList?e.split(/\s+/g).forEach((function(e){t.classList.remove(e)})):a(t,e)&&e.split(/\s+/g).forEach((function(e){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className&&"object"===Le(t.className)?t.setAttribute("class",t.getAttribute("class").replace(n," ")):t.className=t.className.replace(n," ")})))}(this.root,"text-track-hide")}},{key:"hide",value:function(){s(this.root,"text-track-hide"),this.innerRoot.innerHTML=""}},{key:"destroy",value:function(){this.detachPlayer(),this.removeAllListeners(),this.player=null,this.textTrack=null}},{key:"marginBottom",get:function(){var t=this._videoMeta,e=t.bottom,n=t.marginBottom;return this.config.fitVideo?e+n:n}}]),e}(or)}()},function(t,e,n){var r=n(6);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(8)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(7)(!1)).push([t.i,".xgplayer-skin-default .xgplayer-texttrack{-webkit-order:7;-moz-box-ordinal-group:8;order:7;width:60px;height:150px;z-index:18;position:relative;outline:none;display:none;cursor:default;margin-top:-119px}.xgplayer-skin-default .xgplayer-texttrack ul{display:none;list-style:none;min-width:78px;background:rgba(0,0,0,.54);border-radius:1px;position:absolute;bottom:30px;text-align:center;white-space:nowrap;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;z-index:26;cursor:pointer}.xgplayer-skin-default .xgplayer-texttrack ul li{opacity:.7;font-family:PingFangSC-Regular;font-size:11px;color:hsla(0,0%,100%,.8);width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto;padding:6px 13px}.xgplayer-skin-default .xgplayer-texttrack ul li.selected,.xgplayer-skin-default .xgplayer-texttrack ul li:hover{color:#fff;opacity:1}.xgplayer-skin-default .xgplayer-texttrack .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;cursor:pointer;color:hsla(0,0%,100%,.8);position:absolute;bottom:0;width:60px;height:20px;line-height:20px;background:rgba(0,0,0,.38);border-radius:10px;display:inline-block;vertical-align:middle}xg-text-track{transition:bottom .3s ease}.xgplayer-skin-default.xgplayer-is-texttrack .xgplayer-texttrack,.xgplayer-skin-default.xgplayer-texttrack-active .xgplayer-texttrack ul{display:block}",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(t){return document.querySelector(t)},c=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=s.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=null,l=0,f=[],d=n(9);function p(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(x(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(x(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function v(t,e){var n=c(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),f.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=f.indexOf(t);e>=0&&f.splice(e,1)}function y(t){var e=document.createElement("style");return t.attrs.type="text/css",m(e,t.attrs),v(t,e),e}function m(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function x(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=l++;n=u||(u=y(e)),r=k.bind(null,n,a,!1),o=k.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",m(e,t.attrs),v(t,e),e}(e),r=T.bind(null,n,e),o=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(e),r=w.bind(null,n),o=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return p(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}t&&p(h(t,e),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var b,_=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function k(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function w(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function T(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}}])}));